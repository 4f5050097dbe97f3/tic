(this.webpackJsonpts=this.webpackJsonpts||[]).push([[0],{119:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(60),o=r.n(c),i=r(18),s=r(34),O=r(2),l=r(19),u=r.n(l),d=r(31),j=r(32),b=r.n(j),p=(r(87),r(1)),_=function(e){var t=e.create,r=e.join;return Object(p.jsxs)("div",{id:"login",children:[Object(p.jsx)("input",{type:"radio",name:"tab",id:"create",hidden:!0,defaultChecked:!0}),Object(p.jsx)("input",{type:"radio",name:"tab",id:"join",hidden:!0}),Object(p.jsxs)("main",{children:[Object(p.jsxs)("div",{className:"tab",children:[Object(p.jsx)("label",{htmlFor:"create",className:"create_tab",children:"Create Room"}),Object(p.jsx)("label",{htmlFor:"join",className:"join_tab",children:"Join Room"})]}),Object(p.jsxs)("div",{className:"form",children:[Object(p.jsxs)("form",{className:"create_room",children:[Object(p.jsx)("h2",{children:"Create Your Room"}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",placeholder:"enter your room id",maxLength:8})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",placeholder:"enter the passcode",maxLength:8})}),Object(p.jsx)("button",{onClick:t,children:"Create"})]}),Object(p.jsxs)("form",{className:"join_room",children:[Object(p.jsx)("h2",{children:"Join A Room"}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",placeholder:"enter the room id",maxLength:8})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{type:"text",placeholder:"enter the passcode",maxLength:8})}),Object(p.jsx)("button",{onClick:r,children:"Join"})]})]})]})]})};var h,x,m=function(e){var t=e.sign,r=function(){var e=Object(d.a)(u.a.mark((function e(r){var n,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target.parentNode.children[1].children[0].value,a=r.target.parentNode.children[2].children[0].value,""!==n){e.next=6;break}return r.target.parentNode.children[1].style.setProperty("--after","'Room ID is empty'"),e.abrupt("return");case 6:if(""!==a){e.next=9;break}return r.target.parentNode.children[1].style.setProperty("--after","'Passcode is empty'"),e.abrupt("return");case 9:return e.next=11,b.a.post("/api/login/create",{roomID:n,passcode:a});case 11:if(c=e.sent,"succeed"!==(o=c.data)){e.next=16;break}return t({isLoggedIn:!0,mark:"O",roomID:n}),e.abrupt("return");case 16:r.target.parentNode.children[1].style.setProperty("--after","'"+o+"'");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(d.a)(u.a.mark((function e(r){var n,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=r.target.parentNode.children[1].children[0].value,a=r.target.parentNode.children[2].children[0].value,""!==n){e.next=6;break}return r.target.parentNode.children[1].style.setProperty("--after","'Room ID is empty'"),e.abrupt("return");case 6:if(""!==a){e.next=9;break}return r.target.parentNode.children[1].style.setProperty("--after","'Passcode is empty'"),e.abrupt("return");case 9:return e.next=11,b.a.post("/api/login/join",{roomID:n,passcode:a});case 11:if(c=e.sent,"succeed"!==(o=c.data)){e.next=16;break}return t({isLoggedIn:!0,mark:"X",roomID:n}),e.abrupt("return");case 16:r.target.parentNode.children[1].style.setProperty("--after","'"+o+"'");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(_,{create:r,join:n})},f=r(35),R=r(61);function I(e,t){return e===h.WAITING_FOR_OTHER_PLAYER_TO_JOIN?x.WAITING_FOR_OTHER_PLAYER_TO_JOIN:e===h.O_next?"O"===t?x.YOUR_TURN:x.WAITING_FOR_OTHER_PLAYER:e===h.X_next?"X"===t?x.YOUR_TURN:x.WAITING_FOR_OTHER_PLAYER:e===h.O_won?"O"===t?x.YOU_WON:x.YOU_LOST:e===h.X_won?"X"===t?x.YOU_WON:x.YOU_LOST:x.Draw}!function(e){e[e.WAITING_FOR_OTHER_PLAYER_TO_JOIN=0]="WAITING_FOR_OTHER_PLAYER_TO_JOIN",e[e.O_next=1]="O_next",e[e.X_next=2]="X_next",e[e.O_won=3]="O_won",e[e.X_won=4]="X_won",e[e.Draw=5]="Draw"}(h||(h={})),function(e){e.WAITING_FOR_OTHER_PLAYER_TO_JOIN="waiting for other player to join",e.YOUR_TURN="your turn",e.WAITING_FOR_OTHER_PLAYER="waiting for other player",e.YOU_WON="you won",e.YOU_LOST="you lost",e.Draw="draw"}(x||(x={}));var N,T=function(e,t){var r="O"===t?x.WAITING_FOR_OTHER_PLAYER_TO_JOIN:x.WAITING_FOR_OTHER_PLAYER,a=Object(n.useState)({initialized:!1,socket:null}),c=Object(i.a)(a,2),o=c[0],s=c[1],O=Object(n.useState)({btn:["","","","","","","","",""],status:r}),l=Object(i.a)(O,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var r=Object(R.io)({query:{roomID:e,mark:t}});r.on("connect",(function(){s({initialized:!0,socket:r})})),r.on("update",(function(e,r){d({btn:e,status:I(r,t)})}))}),[]),Object(f.a)(Object(f.a)({},o),u)};r(119);!function(e){e.WAITING_FOR_OTHER_PLAYER_TO_JOIN="waiting for other player to join",e.YOUR_TURN="your turn",e.WAITING_FOR_OTHER_PLAYER="waiting for other player",e.YOU_WON="you won",e.YOU_LOST="you lost",e.Draw="draw",e.Error="error"}(N||(N={}));var y=function(e){var t=e.btn,r=e.status,n=e.handleClick;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"tic",children:t.map((function(e,t){return Object(p.jsx)("button",{onClick:function(e){return n(t)},children:e},t)}))}),Object(p.jsx)("p",{className:"status",children:r})]})};var g=function(e){var t=e.roomID,r=e.mark,n=T(t,r),a=n.initialized,c=n.btn,o=n.status,i=n.socket;return!1===a||null===i?null:Object(p.jsx)(y,{btn:c,status:o,handleClick:function(e){"your turn"===o&&""===c[e]&&i.emit("one_step",e,r)}})};var v=function(){var e=a.a.useState({isLoggedIn:!1,roomID:"",mark:""}),t=Object(i.a)(e,2),r=t[0],n=t[1];return!1===r.isLoggedIn?Object(p.jsx)(s.a,{children:Object(p.jsxs)(O.d,{children:[Object(p.jsx)(O.b,{path:"/login",children:Object(p.jsx)(m,{sign:n})}),Object(p.jsx)(O.b,{path:"*",children:Object(p.jsx)(O.a,{to:"/login"})})]})}):Object(p.jsx)(s.a,{children:Object(p.jsxs)(O.d,{children:[Object(p.jsx)(O.b,{path:"/game",children:Object(p.jsx)(g,{roomID:r.roomID,mark:r.mark})}),Object(p.jsx)(O.b,{path:"*",children:Object(p.jsx)(O.a,{to:"/game"})})]})})};r(124);o.a.render(Object(p.jsx)(v,{}),document.getElementById("root"))},87:function(e,t,r){}},[[125,1,2]]]);
//# sourceMappingURL=main.8f5e3e60.chunk.js.map